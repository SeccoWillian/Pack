<div ng-controller='agendaCtrl'>
    <div ng-controller='agendaCtrl'>
        <section class="container" style="width: 100%; height: 100%">
            <section ng-init="loadEvents()">
                <div ng-hide="showhoras">
                    <div class="btn-toolbar">
                        <div class="btn-group">
                            <button type="button" class="btn btn-form btn-large btn-primary" ng-class="{active:mode==='month'}"
                                    ng-click="changeMode('month')" ng-disabled="incluido">
                                Mês
                            </button>
                            <button type="button" class="btn btn-form btn-large btn-default" ng-class="{active:mode==='week'}"
                                    ng-click="changeMode('week')" ng-disabled="incluido">
                                Semana
                            </button>
                            <button type="button" class="btn btn-form btn-large btn-primary" ng-class="{active:mode==='day'}"
                                    ng-click="selecionarPeriodos()" ng-disabled="incluido">
                                Dia
                            </button>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-form btn-large btn-default" ng-disabled="isToday()" ng-click="today()">
                                Hoje
                            </button>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-form btn-large btn-positive" ng-click="incluirAgenda()" ng-disabled="!incluido">
                                Agendar
                            </button>
                        </div>
                    </div><br>
                    <div class="well well-sm">
                        <calendar ng-model="calendar.currentDate" calendar-mode="calendar.mode" event-source="calendar.eventSource"
                          event-selected="onEventSelected(event)" title-changed="onViewTitleChanged(title)"
                          time-selected="onTimeSelected(selectedTime, events, disabled)" step="15"></calendar>
                    </div>
                </div>

                <div ng-repeat="hora in horariosDisponiveis" style="width:90%; margin: 0 auto; margin-botton: 50px">
                    <div style="float: left;">
                        <div class="circlehora" ng-click="horarioSelecionado(hora.inicio)">
                            <div class="alingvertical">{{hora.inicio | date :  "HH:mm" }}</div>
                        </div>
                    </div>
                </div>
                <div ng-if="horariosDisponiveis.length == 0">
                    <p style="margin: 25px 20px 10px 20px;">Não existem horários disponíveis para este dia.</p>
                </div>
            </section>
        </section>
    </div>
</div>
